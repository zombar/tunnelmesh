# TunnelMesh Server Configuration for Docker testing
listen: ":8080"
auth_token: "docker-test-token-123"
mesh_cidr: "10.99.0.0/16"
domain_suffix: ".tunnelmesh"
locations: true  # Enable node location tracking (uses ip-api.com)

admin:
  enabled: true
  # With join_mesh: admin available via HTTPS at https://server-node.tunnelmesh/admin/
  # Trust CA once: tunnelmesh trust-ca --server http://localhost:8080

# WireGuard client management (enables admin panel WireGuard section)
# wireguard:
#   enabled: true
#   endpoint: "your-public-ip:51820"  # Set to concentrator's public endpoint

# Server joins the mesh as a client node
join_mesh:
  name: "server-node"
  private_key: "/root/.tunnelmesh/id_ed25519"
  allow_exit_traffic: true  # Allow clients to route internet through this node
  tun:
    name: "tun-mesh0"
    mtu: 1400
  dns:
    enabled: false
